<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fale Conosco - Engemota</title>
  <link rel="stylesheet" href="../assets/css/site.css">
</head>
<body>
  <header class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="../index.html">
        <img src="../assets/images/Logo_engemota.jpg" alt="Logo Engemota">
        <span>Engemota</span>
      </a>
      <nav class="menu">
        <a href="solucoes.html">Soluções</a>
        <a href="ambientes.html">Ambientes</a>
        <a href="produtos.html">Produtos</a>
        <a href="como-funciona.html">Como funciona</a>
        <a href="quem-somos.html">Quem somos</a>
        <a class="active" href="fale-conosco.html">Fale conosco</a>
      </nav>
      <a class="cta" href="fale-conosco.html">Fale conosco</a>
    </div>
  </header>

  <section class="section light">
    <div class="section-inner">
      <div class="contact-wrap">
        <div>
          <h2 class="contact-title">Dados de contato</h2>
          <div class="contact-block">
            <h4>Endereço</h4>
            <p>
              Rua República do Iraque, n° 40 Sala 905<br>
              Jardim Oswaldo Cruz<br>
              São José dos Campos/SP<br>
              CEP 12216-540
            </p>
          </div>
          <div class="contact-block">
            <h4>Email</h4>
            <p>
              contato@engemota.com.br<br>
              caio@engemota.com.br
            </p>
          </div>
          <div class="contact-block">
            <h4>Telefone</h4>
            <p>
              (12) 99787-6976<br>
              (12) 99193-1367
            </p>
          </div>
        </div>
        <form class="contact-form" action="https://formsubmit.co/contato@engemota.com.br" method="post">
          <h2 class="contact-title">Fale conosco</h2>

          <p id="formStatus" class="form-status" hidden>Mensagem enviada com sucesso. Em breve entraremos em contato.</p>

          <input type="hidden" name="_subject" value="Novo contato pelo site Engemota">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_template" value="table">
          <input type="hidden" name="_next" value="https://smart-home-mota.github.io/smart-home/pages/fale-conosco.html?enviado=1">

          <label for="nome">Nome*</label>
          <input id="nome" name="nome" type="text" autocomplete="name" required>

          <label for="email">E-mail*</label>
          <input id="email" name="email" type="email" autocomplete="email" required>

          <label for="endereco">Endereço*</label>
          <input id="endereco" name="endereco" type="text" autocomplete="street-address" required>

          <label for="telefone">Telefone* (+55 DDD número)</label>
          <input id="telefone" name="telefone" type="tel" inputmode="numeric" autocomplete="tel" placeholder="+55 (12) 98126-0335" pattern="\+55\d{10,11}|\+55\s?\([0-9]{2}\)\s?[0-9]{4,5}-?[0-9]{4}" title="Use +55 com DDD e número. Ex: +5512981260335 ou +55 (12) 98126-0335" required>

          <label for="mensagem">Mensagem*</label>
          <textarea id="mensagem" name="mensagem" required></textarea>

          <button class="cta" type="submit">Enviar</button>
        </form>
      </div>
    </div>
  </section>

  <footer class="footer">
    Engemota - Automação residencial, projetos elétricos e soluções inteligentes.
  </footer>
  <script>
    (function () {
      var status = document.getElementById('formStatus');
      if (!status) return;
      var params = new URLSearchParams(window.location.search);
      if (params.get('enviado') === '1') {
        status.hidden = false;
      }
    })();

    (function () {
      var phone = document.getElementById('telefone');
      if (!phone) return;

      function formatPhone(value) {
        var digits = value.replace(/\D/g, '');

        if (digits.indexOf('55') !== 0) {
          digits = '55' + digits.replace(/^55/, '');
        }

        digits = digits.slice(0, 13);

        var country = '+55';
        var ddd = digits.slice(2, 4);
        var number = digits.slice(4);

        if (!ddd) return country;
        if (number.length <= 4) return country + ' (' + ddd + ') ' + number;
        if (number.length <= 8) return country + ' (' + ddd + ') ' + number.slice(0, 4) + '-' + number.slice(4);

        return country + ' (' + ddd + ') ' + number.slice(0, 5) + '-' + number.slice(5);
      }

      phone.addEventListener('input', function () {
        phone.value = formatPhone(phone.value);
      });

      if (phone.value) {
        phone.value = formatPhone(phone.value);
      }
    })();
  </script>
</body>
</html>
